<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IoT Health Monitor</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
    body { background-color: #f5f8ff; color: #333; }
    header {
      background: linear-gradient(90deg, #007BFF, #00C6FF);
      color: white; padding: 20px 40px;
      display: flex; align-items: center; justify-content: space-between;
      position: sticky; top: 0; z-index: 10;
    }
    header h1 { font-size: 1.8rem; }
    nav a {
      color: white; margin-left: 20px; text-decoration: none;
      font-weight: 500; transition: 0.3s;
    }
    nav a:hover { color: #f1f1f1; text-decoration: underline; }

    /* Hero Section with new pulse sensor image */
    .hero {
      height: 90vh;
      background: url('https://www.freepik.com/free-photo/finger-pressing-virtual-heart-see-graph_953771.htm#fromView=search&page=4&position=9&uuid=19a4f3dd-0f85-4c0c-89ba-82f9cfbd89b9&query=pulse+sensor+wallpaper+white+background') center/cover no-repeat;
      background-size: cover;
      background-attachment: fixed;
      position: relative;
      display: flex; flex-direction: column;
      justify-content: center; align-items: center;
      text-align: center; color: white;
    }
    .hero::after {
      content: "";
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.4);
      z-index: 1;
    }
    .hero > * { position: relative; z-index: 2; }
    .hero h2 { font-size: 2.5rem; margin-bottom: 15px; text-shadow: 2px 2px 4px rgba(0,0,0,0.4); }
    .hero p { font-size: 1.2rem; max-width: 650px; line-height: 1.5; }

    .btn-primary {
      margin-top: 20px;
      background-color: #00C6FF; color: white; border: none;
      padding: 12px 25px; border-radius: 25px; font-weight: 600;
      cursor: pointer; transition: 0.3s;
    }
    .btn-primary:hover { background-color: #007BFF; }

    .section { padding: 60px 40px; text-align: center; }
    .section h3 { font-size: 2rem; margin-bottom: 40px; color: #007BFF; }

    .cards {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 25px; justify-content: center;
    }
    .card {
      background: white; border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      padding: 25px; transition: 0.3s;
    }
    .card:hover { transform: translateY(-5px); }

    #dashboard { background: #eef4ff; }

    canvas { width: 100% !important; height: 300px !important; }

    .footer {
      background-color: #0a1833; color: #ddd; text-align: center; padding: 30px;
    }
    .footer p { font-size: 0.9rem; }
    .highlight { color: #00C6FF; font-weight: bold; }

    img.responsive {
      width: 80%;
      max-width: 600px;
      border-radius: 15px;
      margin-top: 20px;
    }

    @media (max-width: 768px) {
      header { flex-direction: column; text-align: center; }
      nav { margin-top: 10px; }
    }
  </style>
</head>

<body>
  <header>
    <h1>IoT Health Monitor</h1>
    <nav>
      <a href="#home">Home</a>
      <a href="#dashboard">Dashboard</a>
      <a href="#doctor">Doctor View</a>
      <a href="#tips">Health Tips</a>
      <a href="#about">About</a>
      <a href="#contact">Contact</a>
    </nav>
  </header>

  <!-- Hero Section -->
  <section id="home" class="hero">
    <h2>Stay Connected to Your Health</h2>
    <p>Monitor your heart rate, temperature, and humidity in real-time from anywhere ‚Äî powered by IoT and ThingSpeak.</p>
    <button class="btn-primary" onclick="document.getElementById('dashboard').scrollIntoView({behavior:'smooth'})">View Dashboard</button>
  </section>

  <!-- Dashboard Section -->
  <section id="dashboard" class="section">
    <h3>üìä Real-Time Health Dashboard</h3>
    <div class="cards">
      <div class="card">
        <h4>‚ù§Ô∏è BPM (Heart Rate)</h4>
        <p id="bpmValue">--</p>
      </div>
      <div class="card">
        <h4>üå°Ô∏è Temperature (¬∞C)</h4>
        <p id="tempValue">--</p>
      </div>
      <div class="card">
        <h4>üíß Humidity (%)</h4>
        <p id="humValue">--</p>
      </div>
    </div>
    <canvas id="dataChart"></canvas>
  </section>

  <!-- Doctor Monitoring Section -->
  <section id="doctor" class="section" style="background:#f8fbff;">
    <h3>üë®‚Äç‚öïÔ∏è Doctor Monitoring from Anywhere</h3>
    <p>Doctors can monitor patients remotely, view real-time sensor data, and provide instant advice through online consultations.</p>
    <img src="https://img.freepik.com/free-photo/medical-monitor-showing-heartbeat-patient_23-2149367139.jpg" class="responsive">
  </section>

  <!-- Health Tips -->
  <section id="tips" class="section">
    <h3>üí° Health Insights & Tips</h3>
    <div class="cards">
      <div class="card">Stay hydrated ‚Äî your body performs best when humidity and temperature are balanced.</div>
      <div class="card">Monitor your BPM daily ‚Äî a resting BPM above 100 may indicate stress or fatigue.</div>
      <div class="card">Exercise regularly and track your data to see real health progress!</div>
    </div>
  </section>

  <!-- About -->
  <section id="about" class="section" style="background:#eef4ff;">
    <h3>‚ÑπÔ∏è About the Project</h3>
    <p>The <span class="highlight">IoT Based Health Monitoring System</span> allows real-time patient data collection through sensors connected to Arduino and NodeMCU. The data is visualized online using ThingSpeak and displayed here on this professional dashboard.</p>
  </section>

  <!-- Contact -->
  <section id="contact" class="section">
    <h3>üìû Contact Us</h3>
    <p>For collaboration, hospital integration, or demo requests:</p>
    <p>Email: <span class="highlight">thapelomokoa.projects@gmail.com</span></p>
  </section>

  <div class="footer">
    <p>Developed by <strong>Thapelo Mokoa</strong> ‚Äî IoT Health Monitoring System ¬© 2025</p>
  </div>

  <script>
    const channelID = "3128115"; // ThingSpeak channel ID
    const apiKey = "K72OYJMYOJZN240T"; // Read API Key

    async function fetchData() {
      const url = `https://api.thingspeak.com/channels/${channelID}/feeds.json?api_key=${apiKey}&results=10`;
      const response = await fetch(url);
      const data = await response.json();
      const feeds = data.feeds;

      if (feeds.length > 0) {
        const latest = feeds[feeds.length - 1];
        document.getElementById('bpmValue').innerText = latest.field1 || "--";
        document.getElementById('tempValue').innerText = latest.field2 || "--";
        document.getElementById('humValue').innerText = latest.field3 || "--";

        const labels = feeds.map(f => new Date(f.created_at).toLocaleTimeString());
        const bpm = feeds.map(f => f.field1);
        const temp = feeds.map(f => f.field2);
        const hum = feeds.map(f => f.field3);

        drawChart(labels, bpm, temp, hum);
      }
    }

    function drawChart(labels, bpm, temp, hum) {
      const ctx = document.getElementById('dataChart').getContext('2d');
      new Chart(ctx, {
        type: 'line',
        data: {
          labels,
          datasets: [
            { label: 'BPM', data: bpm, borderColor: 'red', fill: false },
            { label: 'Temp (¬∞C)', data: temp, borderColor: 'blue', fill: false },
            { label: 'Humidity (%)', data: hum, borderColor: 'green', fill: false }
          ]
        },
        options: { responsive: true, plugins: { legend: { position: 'bottom' } } }
      });
    }

    setInterval(fetchData, 15000);
    fetchData();
  </script>
</body>
</html>

